<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    {{/* Stylesheet direction logic.
       * Load either an LTR or an RTL stylesheet or error on invalid value. */}}
    {{ $direction := T "direction" }}
    {{ if eq $direction "ltr" }}
    <link rel="stylesheet" href="{{ absURL "/main.css" }}">
    {{ else if eq $direction "rtl" }}
    <link rel="stylesheet" href="{{ absURL "/main.rtl.css" }}">
    {{ else }}
    {{ errorf "Direction translation definition is not 'ltr' or 'rtl' (%s). Using ltr stylesheet." $direction }}
    {{ end }}
    <title>{{ .Title }}</title>

    <script type="application/ld+json">
    {
        "@context": "http://schema.org",

        {{- /* If the page is not a content page, add schema for a software
           * appliation */ -}}
        {{ if .IsNode }}
        "@type": "SoftwareApplication",
        "name": "{{ .Site.Title }}",
        {{ with .Site.Params.seo.category -}}
        "applicationCategory": "{{ . }}",
        {{ end -}}
        {{ with .Site.Params.seo.operatingSystem -}}
        "operatingSystem": "{{ . }}",
        {{ end -}}
        {{ with .Site.Params.seo.downloadURL -}}
        "downloadUrl": "{{ . }}",
        {{ end -}}
        {{ with .Site.Params.seo.version -}}
        "softwareVersion": "{{ . }}",
        {{ end -}}
        "url": "{{ absLangURL "/" }}",

        {{- /* If the page is a content page, add schema for an article. */ -}}
        {{ else }}
        "@type": "Article",
        "headline": "{{ .Title }}",
        "author": {
            "@type": "Person",
            "name": "
        {{- with .Params.author -}}
            {{- . -}}
        {{- else -}}
            {{- .Site.Params.seo.defaultAuthor -}}
        {{- end }}"
        },
        {{ with .Content -}}
        "wordCount": {{ countwords . }},
        {{- end }}

        {{- /*  */ -}}
        {{- end }}
        {{ with .Site.Params.seo.isFree -}}
        "isAccessibleForFree": "{{ . }}",
        {{ end -}}
        {{ with .Site.Params.seo.license -}}
        "license": "{{ . }}"
        {{- end -}}
        {{ if or .Site.Params.footer.text .Params.description -}}
        ,
        "description": "{{ with .Params.description -}}
                            {{- . -}}
                        {{- else -}}
                            {{- .Site.Params.footer.text -}}
                        {{- end -}}"
        {{ end -}}
    }
    </script>
</head>
